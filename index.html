<!DOCTYPE html>
<html lang="lb">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
<title>P1 – Wanter – Spiller</title>

<style>
@font-face{
  font-family:'Schoulschrëft';
  src:url('https://raw.githubusercontent.com/albrechtclaire1007/schoulschreft/main/schoulschreft_bold%5B2%5D.TTF') format('truetype');
  font-weight:bold;
}

:root{
  --pink-mid:#e4b7d0;
  --pink-light:#f6e4ee;
  --pink-dark:#d88cb8;
  --ink:#1f1f1f;
  --ok:#b7f0c8;
  --bad:#ffcccc;
}

*{box-sizing:border-box;user-select:none;}
html,body{
  margin:0;height:100%;
  background:linear-gradient(135deg,var(--pink-mid),var(--pink-light));
  font-family:'Schoulschrëft',Arial,sans-serif;
}

.top{
  position:sticky;top:8px;
  display:flex;gap:12px;justify-content:center;
  background:white;border:3px solid var(--pink-dark);
  border-radius:18px;padding:.4rem .8rem;
  margin:10px auto;width:fit-content;
}

.iconBtn{
  border:3px solid var(--ink);
  background:white;border-radius:14px;
  font-size:1.4rem;cursor:pointer;
}

.hidden{display:none;}

.wrap{
  min-height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:2rem;
  padding:2rem;
}

h1{text-align:center;font-size:clamp(2rem,6vmin,4rem);}

.grid{
  width:95vw;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(140px,1fr));
  gap:1.5rem;
}

.imgToken{
  background:white;
  border:6px solid var(--pink-mid);
  border-radius:22px;
  aspect-ratio:1/1;
  display:grid;
  place-items:center;
  cursor:pointer;
}
.imgToken img{width:85%;height:85%;object-fit:contain;}

.flash-good{background:var(--ok)!important;}
.flash-bad{background:var(--bad)!important;}

.bigSquare{
  width:min(70vmin,90%);
  aspect-ratio:1/1;
  background:white;
  border:12px solid var(--pink-mid);
  border-radius:40px;
  display:grid;
  place-items:center;
  cursor:pointer;
}
.bigSquare img{width:85%;height:85%;object-fit:contain;}

.memGrid{
  width:95vw;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:1rem;
}

.card{aspect-ratio:5/3;perspective:1000px;cursor:pointer;}
.inner{width:100%;height:100%;transition:.3s;transform-style:preserve-3d;}
.flipped .inner{transform:rotateY(180deg);}
.face{
  position:absolute;inset:0;
  background:white;
  border:6px solid var(--pink-mid);
  border-radius:18px;
  display:grid;place-items:center;
  backface-visibility:hidden;
}
.back{transform:rotateY(180deg);}

.inlineSq{
  width:min(36vmin,400px);
  aspect-ratio:1/1;
  background:white;
  border:10px solid var(--pink-mid);
  border-radius:28px;
  display:grid;
  place-items:center;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="top">
  <button class="iconBtn" id="prev">◀</button>
  <span id="flowLabel">1. Spill</span>
  <button class="iconBtn" id="next">▶</button>
</div>

<section class="wrap" id="g1">
  <h1>Lauschter a klick op dat richtegt Bild</h1>
  <div class="grid" id="grid1"></div>
</section>

<section class="wrap hidden" id="g2">
  <h1>Memory: Bild – Toun</h1>
  <div class="memGrid" id="memGrid"></div>
</section>

<section class="wrap hidden" id="g3">
  <h1>Kuck a so wat et ass</h1>
  <div class="bigSquare" id="bigSq"><img id="bigImg"></div>
</section>

<section class="wrap hidden" id="g4">
  <h1>Dat ass …</h1>
  <div class="inlineSq" id="nounSq"><img id="nounImg"></div>
</section>

<audio id="speaker"></audio>

<script>
const AUDIO = "https://github.com/albrechtclaire1007/p1wanter/raw/refs/heads/main";

const ITEMS = [
  {id:'et-ass-kal',word:'Et ass kal',img:'https://i.postimg.cc/dkjvL74X/et-ass-kal.png',audio:`${AUDIO}/et_ass_kal.mp3`},
  {id:'reen',word:'Reen',img:'https://i.postimg.cc/06m91XS0/reen.png',audio:`${AUDIO}/reen.mp3`},
  {id:'schlittschung',word:'Schlittschung',img:'https://i.postimg.cc/Lhm2GTsF/schlittschung.png',audio:`${AUDIO}/schlittschung.mp3`},
  {id:'schlittschung-fueren',word:'Schlittschung fueren',img:'https://i.postimg.cc/sGfzSVNK/schlittschung-fueren.png',audio:`${AUDIO}/schlittschung_fueren.mp3`},
  {id:'schlitt',word:'Schlitt',img:'https://i.postimg.cc/MMmxvcds/schlitt.png',audio:`${AUDIO}/schlitt.mp3`},
  {id:'schlitt-fueren',word:'Schlitt fueren',img:'https://i.postimg.cc/wRxzJ6GW/schlitt-fueren.png',audio:`${AUDIO}/schlitt_fueren.mp3`},
  {id:'schnei',word:'Schnéi',img:'https://i.postimg.cc/5jfbD32K/schnei.png',audio:`${AUDIO}/schnéi.mp3`},
  {id:'schneiflack',word:'Schnéiflack',img:'https://i.postimg.cc/w3FgzmtK/schneiflack.png',audio:`${AUDIO}/schnéiflack.mp3`},
  {id:'schneimannchen',word:'Schnéimännchen',img:'https://i.postimg.cc/w3Fgzmt8/schneimannchen.png',audio:`${AUDIO}/schnéimännchen.mp3`},
  {id:'schneimannchen-bauen',word:'Schnéimännchen bauen',img:'https://i.postimg.cc/mPPb8ggc/e-schneimannche-bauen.png',audio:`${AUDIO}/schneimännchen_bauen.mp3`},
  {id:'schi',word:'Schi',img:'https://i.postimg.cc/FfchXCS0/schi.png',audio:`${AUDIO}/schi.mp3`},
  {id:'schi-fueren',word:'Schi fueren',img:'https://i.postimg.cc/QB5jZY53/schi-fueren.png',audio:`${AUDIO}/schi_fueren.mp3`}
];

function shuffle(a){return a.sort(()=>Math.random()-.5);}
const speaker=document.getElementById('speaker');

/* NAV */
const pages=['g1','g2','g3','g4'];
let page=0;
function show(i){
  page=i;
  pages.forEach((p,idx)=>document.getElementById(p).classList.toggle('hidden',idx!==page));
  document.getElementById('flowLabel').textContent=`${page+1}. Spill`;
}
document.getElementById('prev').onclick=()=>show(Math.max(0,page-1));
document.getElementById('next').onclick=()=>show(Math.min(3,page+1));

/* GAME 1 */
let bag1=shuffle([...ITEMS]);
let target=null;
const grid=document.getElementById('grid1');
ITEMS.forEach(it=>{
  const b=document.createElement('div');
  b.className='imgToken';
  b.innerHTML=`<img src="${it.img}">`;
  b.onclick=()=>{
    b.classList.add(it===target?'flash-good':'flash-bad');
    if(it===target)setTimeout(next1,400);
  };
  grid.appendChild(b);
});
function next1(){
  if(!bag1.length)return show(1);
  target=bag1.pop();
  speaker.src=target.audio;speaker.play();
}
next1();

/* GAME 2 */
const memGrid=document.getElementById('memGrid');
const memItems=shuffle(ITEMS.slice(0,8));
let cards=[];
memItems.forEach(it=>{
  cards.push({t:'img',it},{t:'snd',it});
});
shuffle(cards).forEach(c=>{
  const card=document.createElement('div');
  card.className='card';
  card.innerHTML=`
  <div class="inner">
    <div class="face"></div>
    <div class="face back">${c.t==='img'?`<img src="${c.it.img}" style="width:80%">`:`${c.it.word}`}</div>
  </div>`;
  card.onclick=()=>{
    card.classList.toggle('flipped');
    if(c.t==='snd'){speaker.src=c.it.audio;speaker.play();}
  };
  memGrid.appendChild(card);
});

/* GAME 3 */
let bag3=shuffle([...ITEMS]);
document.getElementById('bigSq').onclick=()=>{
  if(!bag3.length)return show(3);
  const it=bag3.pop();
  bigImg.src=it.img;
  speaker.src=it.audio;speaker.play();
};

/* GAME 4 */
let bag4=shuffle([...ITEMS]);
document.getElementById('nounSq').onclick=()=>{
  if(!bag4.length)return;
  const it=bag4.pop();
  nounImg.src=it.img;
  speaker.src=it.audio;speaker.play();
};

show(0);
</script>
</body>
</html>

